<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Question for you ‚ù§Ô∏è</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #ffeef2;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            touch-action: none;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        #emoji-display { font-size: 80px; min-height: 120px; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; }
        #emoji-display img { border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        #question { 
            color: #d63384; 
            text-align: center; 
            padding: 0 20px;
            animation: pulse 2s infinite ease-in-out;
        }

        #desperate-message {
            color: #ff4d6d;
            font-style: italic;
            height: 25px;
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }

        .button-container {
            display: flex;
            gap: 50px;
            margin-top: 30px;
        }

        button {
            padding: 15px 40px;
            font-size: 20px;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            z-index: 10;
        }

        #yes-btn {
            background-color: #ff4d6d;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
        }

        #no-btn {
            background-color: #adb5bd;
            color: white;
            position: relative;
            transition: left 0.15s ease-out, top 0.15s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div id="emoji-display">
        <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExODlweWV5MHF5M2Q3Z2NraGQ5dThseGRhZWpweGw2d3FpZnc3djZlbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l4Ki4biBSwhjyrS48/giphy.gif" width="180">
    </div>
    <h1 id="question">Will you be my Valentine, Jiggy? üíñ</h1>
    <div id="desperate-message"></div>

    <div class="button-container">
        <button id="yes-btn">YES! üòç</button>
        <button id="no-btn">No ü•∫</button>
    </div>

    <script>
        const noBtn = document.getElementById("no-btn");
        const yesBtn = document.getElementById("yes-btn");
        const emojiDisplay = document.getElementById("emoji-display");
        const question = document.getElementById("question");
        const desperateMsg = document.getElementById("desperate-message");
        const container = document.querySelector(".button-container");

        const babyEmojis = ["ü•∫", "üò≠", "üíî"];
        const happyEmojis = ["üòç", "ü•∞", "‚ù§Ô∏è"];
        
        const lovePleas = [
            "Please? ü•∫",
            "Why though?? üò≠",
            "My heart is racing! üíì",
            "Don't do this to me! üíî",
            "I'm literally crying üò≠"
        ];

        let hasStartedFloating = false;

        function escape() {
            if (!hasStartedFloating) {
                const rect = noBtn.getBoundingClientRect();
                noBtn.style.position = 'fixed';
                noBtn.style.left = rect.left + 'px';
                noBtn.style.top = rect.top + 'px';
                hasStartedFloating = true;
            }

            const padding = 50;
            const yesRect = yesBtn.getBoundingClientRect();
            // Buffer to keep "No" away from "Yes"
            const safeZone = 100; 

            let newX, newY;
            let isOverlapping = true;

            // Collision Avoidance Loop
            while (isOverlapping) {
                newX = Math.max(padding, Math.min(window.innerWidth - noBtn.offsetWidth - padding, Math.random() * window.innerWidth));
                newY = Math.max(padding, Math.min(window.innerHeight - noBtn.offsetHeight - padding, Math.random() * window.innerHeight));

                // Check distance from Yes button
                const dist = Math.hypot(newX - yesRect.left, newY - yesRect.top);
                if (dist > (yesRect.width + safeZone)) {
                    isOverlapping = false;
                }
            }
            
            noBtn.style.left = newX + 'px';
            noBtn.style.top = newY + 'px';

            emojiDisplay.innerText = babyEmojis[Math.floor(Math.random() * babyEmojis.length)];
            desperateMsg.innerText = lovePleas[Math.floor(Math.random() * lovePleas.length)];
            
            if (navigator.vibrate) navigator.vibrate(40);
        }

        noBtn.addEventListener("mouseover", escape);
        noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); escape(); });

        yesBtn.addEventListener("mouseenter", () => {
            emojiDisplay.innerText = happyEmojis[Math.floor(Math.random() * happyEmojis.length)];
            desperateMsg.innerText = "Best choice! You won't regret this! üòâ";
        });

        yesBtn.addEventListener("click", () => {
            document.body.style.backgroundColor = "#ffc8dd";
            container.style.display = "none";
            noBtn.style.display = "none";
            desperateMsg.style.display = "none";
            
            emojiDisplay.innerHTML = `<img id="celebration-gif" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTd0OGEwb2xmcW8xaHh6dWk5aDd2eHptcjJ0YWlwNmU5aXpxaDlwaCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/9waIKqGT9i3RnBACLD/giphy.gif" width="250" style="transition: opacity 0.5s ease;">`;
            
            question.innerHTML = `
                <div style="animation: pulse 1s infinite alternate;">
                    <span style="font-size: 1.8rem;">YYayyyy, I knew you would say Yes! üíñ</span>
                </div>
            `;

            setTimeout(() => {
                const gifElement = document.getElementById("celebration-gif");
                gifElement.style.opacity = "0";
                
                setTimeout(() => {
                    gifElement.src = "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExcWhkcWp3dWsyY2UzaDZiamM5MTQ3YW83bnZ1NDVsaHQwa2hsYjNtZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/sddFzkjvIGVUws1xCS/giphy.gif";
                    gifElement.style.opacity = "1";
                    
                    question.innerHTML += `
                        <p id="final-msg" style="font-size: 1.2rem; font-weight: normal; margin-top: 20px; line-height: 1.6; animation: fadeIn 1.5s ease-in;">
                            You are the best part of my life, love you to the moon and back! ‚ù§Ô∏è
                        </p>
                    `;
                }, 500);
            }, 3000);

            setInterval(createHeart, 150);
        });

        function createHeart() {
            const heart = document.createElement("div");
            heart.style.position = "fixed";
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.top = "100vh";
            heart.innerHTML = ["‚ù§Ô∏è", "üíñ", "üå∏", "‚ú®"][Math.floor(Math.random() * 4)];
            heart.style.fontSize = Math.random() * 20 + 20 + "px";
            heart.style.zIndex = "100";
            document.body.appendChild(heart);

            const animation = heart.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                { transform: `translateY(-110vh) rotate(${Math.random() * 360}deg)`, opacity: 0 }
            ], { duration: 3000, easing: 'ease-out' });

            animation.onfinish = () => heart.remove();
        }
    </script>
</body>
</html>